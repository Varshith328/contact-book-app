{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91995\\\\Downloads\\\\contact-book-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport ContactForm from './components/ContactForm';\nimport ContactList from './components/ContactList';\nimport Pagination from './components/Pagination';\nimport './App.css';\n\n// The base URL of your backend API\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api/contacts';\nfunction App() {\n  _s();\n  const [contacts, setContacts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  // useCallback ensures this function is not recreated on every render\n  const fetchContacts = useCallback(async page => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${API_URL}?page=${page}&limit=10`);\n      setContacts(response.data.data);\n      setTotalPages(response.data.totalPages);\n      setCurrentPage(response.data.currentPage);\n    } catch (err) {\n      setError('Failed to fetch contacts. Please try again later.');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchContacts(currentPage);\n  }, [fetchContacts, currentPage]);\n  const handleAddContact = async contact => {\n    try {\n      await axios.post(API_URL, contact);\n      // After adding, fetch the first page to see the new contact\n      // A more complex app might check if it should be on the current page\n      if (currentPage !== 1) {\n        setCurrentPage(1);\n      } else {\n        fetchContacts(1);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const errorMessage = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to add contact.';\n      alert(errorMessage); // Simple alert for user feedback\n      console.error(err);\n    }\n  };\n  const handleDeleteContact = async id => {\n    try {\n      await axios.delete(`${API_URL}/${id}`);\n      // Refetch contacts on the current page\n      // If it's the last item on a page, you might want to go to the previous page\n      fetchContacts(currentPage);\n    } catch (err) {\n      alert('Failed to delete contact.');\n      console.error(err);\n    }\n  };\n  const handlePageChange = page => {\n    if (page > 0 && page <= totalPages) {\n      setCurrentPage(page);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Contact Book \\uD83D\\uDCD6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(ContactForm, {\n        onAddContact: handleAddContact\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centered-message error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centered-message\",\n        children: \"Loading contacts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this) : contacts.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ContactList, {\n          contacts: contacts,\n          onDeleteContact: handleDeleteContact\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(Pagination, {\n          currentPage: currentPage,\n          totalPages: totalPages,\n          onPageChange: handlePageChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : !error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"centered-message\",\n        children: \"No contacts found. Add one above!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+ohWvI6obfw2/r2sosGB+HHgIag=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","ContactForm","ContactList","Pagination","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","App","_s","contacts","setContacts","isLoading","setIsLoading","error","setError","currentPage","setCurrentPage","totalPages","setTotalPages","fetchContacts","page","response","get","data","err","console","handleAddContact","contact","post","_err$response","_err$response$data","errorMessage","alert","handleDeleteContact","id","delete","handlePageChange","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onAddContact","length","onDeleteContact","onPageChange","_c","$RefreshReg$"],"sources":["C:/Users/91995/Downloads/contact-book-app/frontend/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport ContactForm from './components/ContactForm';\nimport ContactList from './components/ContactList';\nimport Pagination from './components/Pagination';\nimport './App.css';\n\n// The base URL of your backend API\nconst API_URL = 'http://localhost:5000/api/contacts';\n\nfunction App() {\n  const [contacts, setContacts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  \n  // useCallback ensures this function is not recreated on every render\n  const fetchContacts = useCallback(async (page) => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${API_URL}?page=${page}&limit=10`);\n      setContacts(response.data.data);\n      setTotalPages(response.data.totalPages);\n      setCurrentPage(response.data.currentPage);\n    } catch (err) {\n      setError('Failed to fetch contacts. Please try again later.');\n      console.error(err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchContacts(currentPage);\n  }, [fetchContacts, currentPage]);\n\n  const handleAddContact = async (contact) => {\n    try {\n      await axios.post(API_URL, contact);\n      // After adding, fetch the first page to see the new contact\n      // A more complex app might check if it should be on the current page\n      if (currentPage !== 1) {\n          setCurrentPage(1);\n      } else {\n          fetchContacts(1);\n      }\n    } catch (err) {\n      const errorMessage = err.response?.data?.error || 'Failed to add contact.';\n      alert(errorMessage); // Simple alert for user feedback\n      console.error(err);\n    }\n  };\n\n  const handleDeleteContact = async (id) => {\n    try {\n      await axios.delete(`${API_URL}/${id}`);\n      // Refetch contacts on the current page\n      // If it's the last item on a page, you might want to go to the previous page\n      fetchContacts(currentPage);\n    } catch (err) {\n      alert('Failed to delete contact.');\n      console.error(err);\n    }\n  };\n\n  const handlePageChange = (page) => {\n    if (page > 0 && page <= totalPages) {\n      setCurrentPage(page);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1>Contact Book ðŸ“–</h1>\n      </header>\n      <main>\n        <ContactForm onAddContact={handleAddContact} />\n\n        {error && <p className=\"centered-message error\">{error}</p>}\n        \n        {isLoading ? (\n          <p className=\"centered-message\">Loading contacts...</p>\n        ) : contacts.length > 0 ? (\n          <>\n            <ContactList contacts={contacts} onDeleteContact={handleDeleteContact} />\n            {totalPages > 1 && (\n              <Pagination\n                currentPage={currentPage}\n                totalPages={totalPages}\n                onPageChange={handlePageChange}\n              />\n            )}\n          </>\n        ) : (\n          !error && <p className=\"centered-message\">No contacts found. Add one above!</p>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}